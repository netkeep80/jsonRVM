# Модель Отношений

## Виды топологий сущностей МО

1. EntId = SubId = RelId = ObjId - статическое собственное значение,
сущность топологически замкнута сама на себя через себя
Значение экземпляра сущности неизменно.

2. EntId = SubId = ObjId - динамическое собственное значение,
сущность топологически замкнута сама на себя,
через другую сущность проектор - сущность отношение

3. EntId = SubId - ссылка или хранилище проекции,
сущность топологически не замкнута сама на себя,
сущность сохраняет в себе проекцию другой сущности формируемой
другой сущность проектором - сущность отношением

4. EntId = ObjId - источник проекции для субъективного восприятия другими сущностями,
сущность топологически не замкнута сама на себя,
сущность формирует собственную проекцию,
через другую сущность проектор - сущность отношение


## json проекция в МО

Соответсвие типов json значений и проекций Модели Отношений:

1. Number  - стабильная топологически замкнутая (т.е. сама в себя) проекция отношения double|int32|int64|uint32|uint64

2. Boolean - стабильная топологически замкнутая проекция отношения bool

3. String  - стабильная топологически замкнутая проекция отношения string, либо имя сущности

4. Object  - стабильная топологически замкнутая проекция отношения вмещения структуры, либо сущность если есть поля "$obj" или "$rel" или "$sub" или "/"

5. Array   - стабильная топологически замкнутая проекция цепочки отношений последовательного следования - ","

6. Null    - пустое пространство как потенциал вмещения проекции
статическое собственное значение

Null и Array - это не совсем типы, они принципиально отличаются от типов и их обработка идёт отдельными кейсами if в РВМ:

1. Array - это контейнер проекцией одного или разного типа

2. Null - это отсутствие проекции любого типа

Начало цепочки отношений "," всегда есть Null:
((Null --","-> SomeEnt1) --","-> SomeEnt2) === jsonArray[SomeEnt1, SomeEnt2]
Это объясняется тем, что начало цепочки это то место перед которым нет другого
начального элемента, т.е. пустое пространство обозначаемое через Null.

Формат json не является языком программирования МО, поэтому для исполнения
МО требуется десериализация json в динамическое дерево сегмента данных РВМ,
а так же загрузка базовых словарей сущностей для данного типа РВМ (например c++ x64).

Представление МО в json (json проекция МО) - это объектное представление модели отношений в сегменте данных RVM.

Проекция сущности - это то как сущность представляется субъекту наблюдения, поэтому json представление хранится в контексте отображения.

Представление МО в json бывает 2х видов :
	
1. развёрнутая модель : отдельный json объект для описания каждой сущности в виде экземпляра отношения

2. компактная модель : в виде json объектов и массивов

В древовидной структуре json, там где значения проекций сущностей известно и закэшировано, находятся обычные значения json.

В той части json структуры, где требуется вычислить json проекцию МО,
находится json объект с дополнительными свойствами "$obj", "$rel", "$sub", "$its".
Такой объект интерпретируется RVM как сущность МО, которую возможно исполнить и
найти её json проекцию в контесте исполнения.
Сущности могут иметь дополнительные поля в которых закэшированы проекции свойств сущности или заданы сущности определяющие проекции данных свойств.

Любое значение json можно представить эквивалентной МО, json проекция которой
будет идентична этому json значению.
