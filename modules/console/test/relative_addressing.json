{
   "id" : "$up3ent/id",
   "$obj" : {
      "id" : "$up3ent/$obj"
   },
   "$rel" : [
      {
         "test" : "$up3ent",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up3ent/id",
                  "$rel" : "=",
                  "$sub" : "$its/$up3ent/id"
               }
            }
         }
      },
      {
         "test" : "$up3sub",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up3sub",
                  "$rel" : "=",
                  "$sub" : "$its/$up3sub"
               }
            }
         }
      },
      {
         "test" : "$up3obj",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up3obj",
                  "$rel" : "=",
                  "$sub" : "$its/$up3obj"
               }
            }
         }
      },
      {
         "test" : "$up3its",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : {
                     "id" : "$up3its/id"
                  },
                  "$rel" : "=",
                  "$sub" : "$up3its/$up3its"
               }
            }
         }
      },
      {
         "test" : "$up2ent",
         "id" : "$up2ent/id",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up2ent/id",
                  "$rel" : "=",
                  "$sub" : "$its/$up2ent/id"
               }
            }
         }
      },
      {
         "test" : "$up2sub",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up2sub",
                  "$rel" : "=",
                  "$sub" : "$its/$up2sub"
               }
            }
         },
         "$sub" : {
            "id" : "$up2ent/$sub"
         }
      },
      {
         "test" : "$up2obj",
         "$obj" : {
            "id" : "$up2ent/$obj"
         },
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up2obj",
                  "$rel" : "=",
                  "$sub" : "$its/$up2obj"
               }
            }
         }
      },
      {
         "test" : "$up2its",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : {
                     "id" : "$up2its/id"
                  },
                  "$rel" : "=",
                  "$sub" : "$up2its/$up2its"
               }
            }
         }
      },
      {
         "test" : "$up1ent",
         "$rel" : {
            "id" : "$up1ent/id",
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up1ent/id",
                  "$rel" : "=",
                  "$sub" : "$its/$up1ent/id"
               }
            }
         }
      },
      {
         "test" : "$up1sub",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up1sub",
                  "$rel" : "=",
                  "$sub" : "$its/$up1sub"
               }
            },
            "$sub" : {
               "id" : "$up1ent/$sub"
            }
         }
      },
      {
         "test" : "$up1obj",
         "$rel" : {
            "$obj" : {
               "id" : "$up1ent/$obj"
            },
            "$rel" : {
               "$rel" : {
                  "$obj" : "$up1obj",
                  "$rel" : "=",
                  "$sub" : "$its/$up1obj"
               }
            }
         }
      },
      {
         "test" : "$up1its",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : {
                     "id" : "$up1its/id"
                  },
                  "$rel" : "=",
                  "$sub" : "$up1its/$up1its"
               }
            }
         }
      },
      {
         "test" : "$ent",
         "$rel" : {
            "$rel" : {
               "id" : "$ent/id",
               "$rel" : {
                  "$obj" : "$ent/id",
                  "$rel" : "=",
                  "$sub" : "$its/$ent/id"
               }
            }
         }
      },
      {
         "test" : "$sub",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : "$sub",
                  "$rel" : "=",
                  "$sub" : "$its/$sub"
               },
               "$sub" : {
                  "id" : "$ent/$sub"
               }
            }
         }
      },
      {
         "test" : "$obj",
         "$rel" : {
            "$rel" : {
               "$obj" : {
                  "id" : "$ent/$obj"
               },
               "$rel" : {
                  "$obj" : "$obj",
                  "$rel" : "=",
                  "$sub" : "$its/$obj"
               }
            }
         }
      },
      {
         "test" : "$its",
         "$rel" : {
            "$rel" : {
               "$rel" : {
                  "$obj" : {
                     "id" : "$its/id"
                  },
                  "$rel" : "=",
                  "$sub" : "$its/$its"
               }
            }
         }
      }
   ],
   "$sub" : {
      "id" : "$up3ent/$sub"
   }
}
